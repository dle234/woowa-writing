# í”„ë¡ íŠ¸ì—”ë“œ ì—ëŸ¬ í•¸ë“¤ë§

## ëª©ì°¨

1. í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì—ëŸ¬ë€?
2. ì—ëŸ¬ ë¶„ë¥˜í•˜ê¸°
3. ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•
   1. ê¸€ë¡œë²Œ ì—ëŸ¬ ì²˜ë¦¬
   2. ì„ ì–¸ì ìœ¼ë¡œ ì—ëŸ¬ ì²˜ë¦¬í•˜ê¸°(errorBoundary)
4. errorBoundary ì—ì„œ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜

## í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì—ëŸ¬ë€?

ì†Œí”„íŠ¸ì›¨ì–´ì—ì„œì˜ ì—ëŸ¬ëŠ” ì»´íŒŒì¼ ì—ëŸ¬, ëŸ°íƒ€ì„ ì—ëŸ¬ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.

ì»´íŒŒì¼ ì—ëŸ¬ë€ ì»´íŒŒì¼ ì‹œ ì»´íŒŒì¼ëŸ¬ê°€ í•´ì„í•˜ì§€ ëª»í•´ì„œ ë°œìƒí•˜ëŠ” ê²½ìš°ë¥¼ ëœ»í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì˜ëª»ëœ íƒ€ì…ì„ ì‚¬ìš©í–ˆì„ ë•Œ ë‚˜íƒ€ë‚  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ì»´íŒŒì¼ ì—ëŸ¬ëŠ” TypeScriptë¥¼ ì‚¬ìš©í•˜ì—¬ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.

ëŸ°íƒ€ì„ ì—ëŸ¬ë€ í”„ë¡œê·¸ë¨ì´ ë™ì‘í•  ë•Œ ë°œê²¬í•  ìˆ˜ ìˆëŠ” ì—ëŸ¬ì´ë‹¤. ì¡´ì¬í•˜ì§€ ì•ŠëŠ” DOM ìš”ì†Œì— ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ì˜ˆì‹œë¡œ ë“¤ ìˆ˜ ìˆë‹¤.

ì»´íŒŒì¼ ì—ëŸ¬ëŠ” TypeScript, ESLint, Webpack ë“±ì˜ ë„êµ¬ë¥¼ ì´ìš©í•´ ìºì¹˜ê°€ ê°€ëŠ¥í•˜ë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì´ëŸ¬í•œ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ì•„ë‹Œ, ëŸ°íƒ€ì„ ì—ëŸ¬ë¥¼ â€˜ì˜ˆì™¸â€™ë¼ê³  ë¶€ë¥¸ë‹¤.

## ì˜ˆì™¸(ì—ëŸ¬)ë¥¼ ë¶„ë¥˜í•´ë³´ì.

![alt text](image.png)

> [í´ë¼ì´ì–¸íŠ¸ì˜ ì‚¬ìš©ì ì¤‘ì‹¬ ì˜ˆì™¸ ì²˜ë¦¬](https://jbee.io/articles/react/%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8%EC%9D%98%20%EC%82%AC%EC%9A%A9%EC%9E%90%20%EC%A4%91%EC%8B%AC%20%EC%98%88%EC%99%B8%20%EC%B2%98%EB%A6%AC)

ì›¹ í™˜ê²½ì—ì„œì˜ ì—ëŸ¬ëŠ” ë‘ ê°€ì§€ ê¸°ì¤€ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤

1. ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ- ì˜ˆì¸¡ ê°€ëŠ¥ vs ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥
2. ì‚¬ìš©ìê°€- í•´ê²° ê°€ëŠ¥ vs í•´ê²° ë¶ˆê°€ëŠ¥

### 1. ì˜ˆì¸¡ ê°€ëŠ¥í•˜ë©° ì‚¬ìš©ìê°€ í•´ê²°í•  ìˆ˜ ì—†ëŠ” ì—ëŸ¬

ê³ ì˜ì ìœ¼ë¡œ ë¹„ì •ìƒì ì¸ ì ‘ê·¼ì„ í•œ ê²½ìš°ì´ë‹¤. ì´ëŠ” ë³´ì•ˆê³¼ ê´€ë ¨ë˜ì–´ìˆê³  CORS, XSS ë“±ì„ ê³ ë ¤í•´ì•¼ í•œë‹¤.

### 2. ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•˜ê³  ì‚¬ìš©ìê°€ í•´ê²°í•  ìˆ˜ ì—†ëŠ” ì—ëŸ¬

`HTTP ìƒíƒœ ì½”ë“œ 500` ë²ˆëŒ€ ì˜¤ë¥˜ë¡œ ì„œë¹„ìŠ¤ ì¥ì• , íŠ¹ì • ë¸Œë¼ìš°ì €ì—ì„œ ë‚˜íƒ€ë‚˜ëŠ” í˜¸í™˜ì„± ì˜¤ë¥˜, ì €ì‚¬ì–‘ ê¸°ê¸° ì‚¬ìš© ì˜¤ë¥˜ ë“±ì´ ìˆë‹¤.

Sentry ë“±ì˜ ëª¨ë‹ˆí„°ë§ ë„êµ¬ë¥¼ í™œìš©í•˜ì—¬ ëŒ€ì‘í•´ì•¼ í•˜ë©°, ì‚¬ìš©ìê°€ ê³ ê°ì„¼í„° ë¬¸ì˜ ë“±ì„ í™œìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼í•œë‹¤.

### 3. ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•˜ë©° ì‚¬ìš©ìê°€ í•´ê²°í•  ìˆ˜ ìˆëŠ” ì—ëŸ¬

`ë„¤íŠ¸ì›Œí¬` ì˜¤ë¥˜ê°€ ì´ì— í•´ë‹¹í•œë‹¤. ì¼ì‹œì ì¸ ë¬¸ì œì„ì„ ì•Œë¦¬ê³ , ì¬ì‹œë„ ê°€ì´ë“œë¥¼ ì œê³µí•´ì•¼í•œë‹¤.

ì¼ì‹œì ì¸ ì—ëŸ¬ë¡œ ëª¨ë“  ë¶€ë¶„ì˜ ìš”ì²­ì´ ë§‰íˆë©´ ì‚¬ìš©ìì—ê²Œ ë¶ˆí¸í•œ ê²½í—˜ì„ ì œê³µí•˜ê²Œ ë˜ì–´ì„œ ì—ëŸ¬ì˜ ì˜í–¥ ë²”ìœ„ë¥¼ ìµœì†Œí™” í•˜ëŠ”ê²Œ ì¤‘ìš”í•˜ë‹¤.

### 4. ì˜ˆì¸¡ ê°€ëŠ¥í•˜ë©° ì‚¬ìš©ìê°€ í•´ê²°í•  ìˆ˜ ìˆëŠ” ì—ëŸ¬

`HTTP ìƒíƒœ ì½”ë“œê°€ ëª…í™•í•œ ì—ëŸ¬`ì´ë‹¤. ë¯¸ë¦¬ ì •ì˜ë˜ê³  ì˜ˆìƒëœ ìƒí™©ì—ì„œ ë°œìƒí•œë‹¤.

ì¸ì¦ ì—ëŸ¬ ,ì˜ëª»ëœ ì ‘ê·¼ìœ¼ë¡œ ì¸í•œ ì—ëŸ¬ ë“± 400ëŒ€ ì—ëŸ¬ê°€ ì´ì— í•´ë‹¹í•œë‹¤.

ê° ìƒíƒœ ì½”ë“œì— ë”°ë¥¸ ì ì ˆí•œ ê°€ì´ë“œì™€ ë³„ë„ ì—ëŸ¬ í˜ì´ì§€ë¥¼ ì œê³µí•´ì•¼í•œë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ì¸ì¦ ì˜¤ë¥˜ì˜ ê²½ìš°ì—ëŠ” ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ì„ ì‹œë„í•  ìˆ˜ ìˆë„ë¡ ìœ ë„í•´ì•¼ í•˜ë©°, ê¶Œí•œ ì˜¤ë¥˜ì˜ ê²½ìš°ì—ëŠ” ê´€ë¦¬ìì—ê²Œ ê¶Œí•œ ìš”ì²­ì„ í•˜ì—¬ ì‚¬ìš©ì ìŠ¤ìŠ¤ë¡œ í•´ê²°í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.

ì´ë ‡ê²Œ ì—ëŸ¬ì˜ ì˜ˆì¸¡, í•´ê²° ê°€ëŠ¥ ì—¬ë¶€ì— ë”°ë¼ ì ì ˆí•œ ëŒ€ì‘ ë°©ë²•ìœ¼ë¡œ ì—ëŸ¬ë¥¼ í•¸ë“¤ë§ í•  ìˆ˜ ìˆë‹¤.

### ì¶”ê°€ ê³ ë ¤ì‚¬í•­

- ì—ëŸ¬ëŠ” ìµœëŒ€í•œ ì‘ì€ ë²”ìœ„ì—ì„œ catchí•´ì•¼ í•œë‹¤.
  í™”ë©´ì— ì—¬ëŸ¬ api ìš”ì²­ì´ ìˆì„ ë•Œ í•˜ë‚˜ì˜ ìš”ì²­ì—ì„œ ì—ëŸ¬ê°€ ë‚œë‹¤ë©´, ë‹¤ë¥¸ ìš”ì²­ì—ëŠ” ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ë§ì•„ì•¼ í•œë‹¤. ë”°ë¼ì„œ ìš”ì²­ì´ ì¼ì–´ë‚˜ëŠ” ê° ì»´í¬ë„ŒíŠ¸ ë§ˆë‹¤ ì ì ˆí•˜ê²Œ ì—ëŸ¬ë¥¼ í•¸ë“¤ë§ í•´ ì£¼ì–´ì•¼ í•œë‹¤.
- HTTP Statusë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ì—ëŸ¬ì—ëŠ” 'í•©ì˜ëœ ì—ëŸ¬'ì„ì„ ë‚˜íƒ€ë‚´ëŠ” flag ê°’ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
  ì´ ì¤‘ `ì˜ˆì¸¡ ê°€ëŠ¥í•˜ë©° ì‚¬ìš©ìê°€ í•´ê²°í•  ìˆ˜ ìˆëŠ” ì—ëŸ¬` ì˜ ê²½ìš°ì—ëŠ” ë°±ì—”ë“œì™€ í•©ì˜í•˜ì—¬ ê° ìƒíƒœì— ë”°ë¥¸ ì—ëŸ¬ì½”ë“œë¥¼ ì •ë¦¬í•´ë‘ëŠ” ê²Œ ì¢‹ë‹¤.
  ì˜ˆë¥¼ ë“¤ì–´
  **400 Bad Request** ì˜ ì—ëŸ¬ ì½”ë“œë¥¼ ë°›ì•˜ì„ë•Œë¥¼ ìƒê°í•´ë³´ì.
  ì§€í”¼í‹° ì‚¬ìš©í•˜ê¸°
  400ëŒ€ ì—ëŸ¬ ìƒí™© ì˜ˆì‹œ ì ì–´ì£¼ê³ , 400 ëŒ€ ì—ëŸ¬ ìƒíƒœì½”ë“œë¥¼ ë¶„ë¦¬í•  ìˆ˜ ìˆëŠ” ìƒí™©ìœ¼ë¡œ,

## ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•

> https://happysisyphe.tistory.com/52

> https://velog.io/@baby_dev/ê³µì‹ì—ì„œì˜-ì—ëŸ¬í•¸ë“¤ë§-feat.-ì—ëŸ¬-ë°”ìš´ë”ë¦¬

1. ì—ëŸ¬ ì²˜ë¦¬ ë°©ë²•ë“¤(onError, try-catch ë“±ë“±)
2. ì„ ì–¸ì ìœ¼ë¡œ ì—ëŸ¬ ì²˜ë¦¬í•˜ëŠ” ê²ƒì˜ ì¥ì  + errorBoundary

ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì€ ì—¬ëŸ¬ê°€ì§€ê°€ ìˆë‹¤.

ë³´í†µì€ try-catch ë¬¸ìœ¼ë¡œ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

```jsx
ì½”ë“œ;
```

ë§Œì•½ tanstack-query ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ onError ë¥¼ í™œìš©í•˜ëŠ” ë°©ë²•ë„ ìˆë‹¤.

```jsx
ì½”ë“œ
```

ì—¬ê¸°ì„œ ì˜¤ëŠ” ë‹¨ì ë“¤(ëª…ë ¹í˜•)


ì„ ì–¸í˜• ì²˜ë¦¬ì¸ errorBoundary ì„¤ëª…

```jsx
ì½”ë“œ
```

ì „ì—­ì ì¸ ì—ëŸ¬ì²˜ë¦¬ì˜ ì¥ì .


### ìƒí™©ì— ë”°ë¥¸ ì—ëŸ¬ì²˜ë¦¬
get, fetch , post ë“±ì— ë”°ë¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆëŠ” ì—ëŸ¬ ìƒí™©

ì˜ˆë¥¼ ë“¤ì–´ get ì—ì„œëŠ” ê° ìƒíƒœì— ë”°ë¼ ì—ëŸ¬ í˜ì´ì§€ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆê³ , post ê°™ì€ ê²½ìš°ì—ëŠ” toastë¥¼ í•´ì£¼ëŠ”ê²Œ í˜ì´ì§€ ì „í™˜ì„ í•˜ëŠ” ê²ƒ ë³´ë‹¤ ì¢‹ì„ ê²ƒ ì´ë‹¤.

â†’ ì´ ê²½ìš°ì—ëŠ” ì—ëŸ¬ ë°”ìš´ë”ë¦¬ ì„¤ì •ë³´ë‹¤ëŠ” query ì˜ ì„¤ì •ìœ¼ë¡œ .

```jsx
ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì— ê´€ë ¨ëœ ì½”ë“œ.
```

ê° ì»´í¬ë„ŒíŠ¸ ë§ˆë‹¤ ì—ëŸ¬ë°”ìš´ë”ë¦¬ ê°ì‹¸ëŠ” ê²ƒê³¼ , ì—¬ê¸°ì„œ ì¡ì§€ ëª»í•´ì„œ ê¸€ë¡œë²Œë¡œ ì¡ëŠ” ì—ëŸ¬,

ì¦‰ fetch ë¡œì§ì—ì„œ ì—ëŸ¬ë¥¼ ë˜ì§ˆë•Œ ì»¤ìŠ¤í…€ ì—ëŸ¬ë¡œ ë˜ì§, â†’ ì—ëŸ¬ ìƒíƒœì½”ë“œì— ë”°ë¼ ë‹¤ë¥¸ ë©”ì„¸ì§€ ì „ë‹¬ â†’

## ì—ëŸ¬ í•¸ë“¤ë§ ì„¤ê³„ ë° ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ ì ìš©í•œ ì—ëŸ¬ í•¸ë“¤ë§

> https://velog.io/@himprover/í”„ë¡ íŠ¸ì—”ë“œ-ì—ëŸ¬-í•¸ë“¤ë§ì—-ëŒ€í•œ-ê³ ë¯¼

1. ì—ëŸ¬ ì½”ë“œ ìƒì„¸í•˜ê²Œ ë¶„ë¥˜(ê° ìƒíƒœì½”ë“œì—ì„œë„ code ë¥¼ ë¶„ë¥˜í•  ìˆ˜ ìˆë‹¤.), ìš”ì²­ ì‹œ ì—ëŸ¬ catch

1. ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ ì ìš©í•œ ì—ëŸ¬ëŠ” ì¶”í›„ ì¶”ê°€í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤ğŸ¥¹

## ê¸°íƒ€

> https://happysisyphe.tistory.com/66

1. errorBoundary ë¡œ ì¡íˆì§€ ì•ŠëŠ” ì—ëŸ¬
